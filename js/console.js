"use strict";function _typeof(s){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(s)}!function(e){function l(s,n){return e(s).find(".cssConsoleDisplay span").removeClass("selected"),clearInterval(s.cursor),s.cursor_position!=e(s).find(".cssConsoleDisplay span").length?(e(s).find(".cssConsoleCursor").css({visibility:"hidden"}),e(s).find(".cssConsoleDisplay span").eq(s.cursor_position).addClass("selected"),s.cursor=window.setInterval(function(){e(s).find(".cssConsoleDisplay span").eq(s.cursor_position).hasClass("selected")?e(s).find(".cssConsoleDisplay span").eq(s.cursor_position).removeClass("selected"):e(s).find(".cssConsoleDisplay span").eq(s.cursor_position).addClass("selected")},n)):(e(s).find(".cssConsoleCursor").css({visibility:"visible"}),s.cursor=window.setInterval(function(){"visible"===e(s).find(".cssConsoleCursor").css("visibility")?e(s).find(".cssConsoleCursor").css({visibility:"hidden"}):e(s).find(".cssConsoleCursor").css({visibility:"visible"})},n)),s}var n={init:function(s){var t=e.extend({type:"text",inputId:null,inputName:null,inputValue:null,blinkingInterval:500,charLimit:0,preventEnter:!0,onEnter:function(){}},s);return this.each(function(){var i=this,o=e(this);if(i.cursor,i.cursor_position=0,i.inputVal="",i.blinkingInterval=t.blinkingInterval,o.addClass("cssConsole"),o.append('<span class="cssConsoleDisplay"></span>'),o.append('<div class="cssConsoleCursor"></div>'),o.append('<input class="cssConsoleInput" type="'+t.type+'" />'),t.inputId&&o.find(".cssConsoleInput").attr("id",t.inputId),t.inputName&&o.find(".cssConsoleInput").attr("name",t.inputName),t.inputValue){0<t.charLimit&&t.charLimit<t.inputValue.length&&(t.inputValue=t.inputValue.substring(0,t.charLimit)),i.cursor_position=t.inputValue.length;for(var s=0;s<t.inputValue.length;s++)o.find(".cssConsoleDisplay").append("<span>"+t.inputValue.charAt(s)+"</span>");o.find(".cssConsoleInput").val(t.inputValue),i.inputVal=t.inputValue}return o.on("click",function(){o.find(".cssConsoleInput").focus(),l(i,t.blinkingInterval)}),o.find(".cssConsoleInput").on("focus",function(){l(i,t.blinkingInterval)}),o.find(".cssConsoleInput").on("blur",function(){clearInterval(i.cursor),i.cursor_position!=o.find(".cssConsoleDisplay span").length?o.find(".cssConsoleDisplay span").removeClass("selected"):o.find(".cssConsoleCursor").css({visibility:"hidden"})}),o.find(".cssConsoleInput").on("keydown",function(s){8==s.which?0<i.cursor_position&&(o.find(".cssConsoleDisplay span").eq(i.cursor_position-1).remove(),i.inputVal=i.inputVal.slice(0,i.cursor_position-1)+i.inputVal.slice(i.cursor_position,i.inputVal.length),i.cursor_position--):13==s.which?(t.preventEnter&&s.preventDefault(),t.onEnter()):46==s.which?(i.cursor_position<o.find(".cssConsoleDisplay span").length&&o.find(".cssConsoleDisplay span").eq(i.cursor_position).remove(),i.inputVal=i.inputVal.slice(0,i.cursor_position)+i.inputVal.slice(i.cursor_position+1,i.inputVal.length)):35==s.which?i.cursor_position=o.find(".cssConsoleDisplay span").length:36==s.which?i.cursor_position=0:37==s.which?0<i.cursor_position&&i.cursor_position--:39==s.which&&i.cursor_position<o.find(".cssConsoleDisplay span").length&&i.cursor_position++,o.find(".cssConsoleInput").is(":focus")&&l(i,t.blinkingInterval)}),o.find(".cssConsoleInput").on("keyup",function(s){if(8!=s.which&&46!=s.which&&i.inputVal!=o.find(".cssConsoleInput").val()){if(o.find(".cssConsoleDisplay").empty(),i.inputVal.length==o.find(".cssConsoleInput").val().length)for(var n=0;n<o.find(".cssConsoleInput").val().length;n++)"password"==t.type?o.find(".cssConsoleDisplay").append("<span>*</span>"):o.find(".cssConsoleDisplay").append("<span>"+o.find(".cssConsoleInput").val().charAt(n)+"</span>");else{0<t.charLimit&&t.charLimit<o.find(".cssConsoleInput").val().length&&o.find(".cssConsoleInput").val(o.find(".cssConsoleInput").val().substring(0,t.charLimit));for(n=0;n<o.find(".cssConsoleInput").val().length;n++)"password"==t.type?o.find(".cssConsoleDisplay").append("<span>*</span>"):o.find(".cssConsoleDisplay").append("<span>"+o.find(".cssConsoleInput").val().charAt(n)+"</span>");i.cursor_position=i.cursor_position+o.find(".cssConsoleInput").val().length-i.inputVal.length}i.inputVal=o.find(".cssConsoleInput").val(),l(i,t.blinkingInterval)}}),this})},destroy:function(){return this.each(function(){var s=e(this);return this.cursor_position=0,clearInterval(this.cursor),s.find(".cssConsoleInput").val(""),s.empty(),s.removeClass("cssConsole"),this})},reset:function(){return this.each(function(){var s=this,n=e(this);return s.cursor_position=0,s.cursor_position!=n.find(".cssConsoleDisplay span").length&&n.find(".cssConsoleDisplay span").removeClass("selected"),n.find(".cssConsoleInput").val(""),s.inputVal="",n.find(".cssConsoleInput").is(":focus")?l(n,s.blinkingInterval):(clearInterval(s.cursor),n.find(".cssConsoleCursor").css({visibility:"hidden"})),n.find(".cssConsoleDisplay").empty(),this})}};e.fn.cssConsole=function(s){return n[s]?n[s].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=_typeof(s)&&s?void e.error("Method "+s+" does not exist on jQuery.cssConsole"):n.init.apply(this,arguments)}}(jQuery);